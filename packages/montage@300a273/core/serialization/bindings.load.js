montageDefine("300a273","core/serialization/bindings",{dependencies:["frb","frb/stringify","frb/expand","frb/scope","core/serialization/serializer/montage-serializer","core/serialization/deserializer/montage-deserializer"],factory:function(t){var e=t("frb"),n=t("frb/stringify"),i=t("frb/expand"),r=t("frb/scope"),a=t("core/serialization/serializer/montage-serializer").MontageSerializer,s=t("core/serialization/deserializer/montage-deserializer").MontageDeserializer;a.defineSerializationUnit("bindings",function(t,a){var s,o=e.getBindings(a),l={};for(var c in o){var u=o[c],h={};if(!("serializable"in u)||u.serializable){var d=u.sourcePath,p=u.sourceSyntax;if(u.source!==a){var g=t.getObjectLabel(u.source),v=new r({type:"component",label:g});v.components=t,p=i(p,v)}var v=new r;v.components=t,d=n(p,v),u.twoWay?h["<->"]=d:h["<-"]=d,u.converter?h.converter=u.converter:(h.convert=u.convert,h.revert=u.revert),u.trace&&(h.trace=!0),l[c]=h,s=!0}}return s?l:void 0}),s.defineDeserializationUnit("bindings",function(t,n,i){for(var r in i){var a=i[r];if("object"!=typeof a)throw Error("Binding descriptor must be an object, not "+typeof a);"boundObject"in a?(a.source=t.getObjectByLabel(a.boundObject),a.oneway?a["<-"]=a.boundPropertyPath:a["<->"]=a.boundPropertyPath,delete a.boundObject,delete a.boundObjectPropertyPath,delete a.oneway):a["<<->"]&&(console.warn("WARNING: <<-> in bindings is deprectated, use <-> only, please update now."),a["<->"]=a["<<->"],delete a["<<->"])}e.defineBindings(n,i,{components:t})})}});